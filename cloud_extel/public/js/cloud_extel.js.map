{"version":3,"file":"cloud_extel.js","sources":["../../../../apps/cloud_extel/cloud_extel/public/js/dimension_filter.js","../../../../apps/cloud_extel/cloud_extel/public/js/project_treeview.js"],"sourcesContent":["\nlet doctypes_with_dimensions = [\"GL Entry\", \"Sales Invoice\", \"Purchase Invoice\", \"Payment Entry\", \"Asset\",\n\"Expense Claim\", \"Stock Entry\", \"Budget\", \"Payroll Entry\", \"Delivery Note\", \"Shipping Rule\", \"Loyalty Program\",\n\"Fee Schedule\", \"Fee Structure\", \"Stock Reconciliation\", \"Travel Request\", \"Fees\", \"POS Profile\", \"Opening Invoice Creation Tool\",\n\"Subscription\", \"Purchase Order\", \"Journal Entry\", \"Material Request\", \"Purchase Receipt\", \"Landed Cost Item\", \"Asset\"];\n\n\ndoctypes_with_dimensions.forEach((doctype) => {\n\tfrappe.ui.form.on(doctype, {\n\t\tcost_center: function(frm) {\n\t\t\tfrappe.call({\n\t\t\t\t'method': 'frappe.client.get_list',\n\t\t\t\t'args': {\n\t\t\t\t\t'filters':{\n\t\t\t\t\t\t'business_segment': frm.doc.cost_center},\n\t\t\t\t\t\t'doctype': 'Business Segment',\n\t\t\t\t\t\t'fields': ['parent'],\n\t\t\t\t\t\t'parent': 'Telecom Region',\n\t\t\t\t\t\t'limit_page_length': 300\n\t\t\t\t\t},\n\t\t\t\t'callback': function(r) {\n\t\t\t\t\tfrm.set_query('telecom_region', function() {\n\t\t\t\t\t\tlet region_list = r.message;\n\t\t\t\t\t\tregion_list = region_list.map(pt => pt.parent);\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tfilters: {\n\t\t\t\t\t\t\t\t'name': ['in', region_list]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t});\n});","frappe.provide('frappe.views');\nfrappe.provide(\"erpnext.projects\");\n\nerpnext.projects.ProjectTree = class Projects extends frappe.views.BaseList {\n\tconstructor(opts) {\n\t\tsuper(opts);\n\t\tthis.show();\n\t\twindow.cur_list = this;\n\t\tthis.hide_sort_selector = true;\n\t\tthis.view_name = 'List';\n\t}\n\n\tsetup_defaults() {\n\t\tsuper.setup_defaults();\n\n\t\tthis.task_meta = frappe.get_meta(\"Task\");\n\n\t\tthis.task_fields = [];\n\t\tthis.task_columns = [];\n\t\tthis.get_settings(\"Project\", \"project_listview_settings\");\n\t\tthis.get_settings(\"Task\", \"task_listview_settings\");\n\n\t\tthis.menu_items = [];\n\t}\n\n\tsetup_page() {\n\t\tthis.$page = $(this.parent);\n\t\tthis.page && this.page.page_form.removeClass('row').addClass('flex');\n\t\tthis.page && this.page.body.addClass('frappe-card');\n\t\tthis.setup_page_head();\n\t}\n\n\tsetup_page_head() {\n\t\tthis.set_title(\"Projects\");\n\t\tthis.set_menu_items(\"Project\");\n\t\tthis.set_breadcrumbs();\n\t}\n\n\tset_menu_items(doctype) {\n\n\t\tconst bulk_delete = () => {\n\t\t\treturn {\n\t\t\t\tlabel: __('Delete'),\n\t\t\t\taction: () => {\n\t\t\t\t\tconst docnames = this.get_checked_items(true).map(docname => docname.toString());\n\t\t\t\t\tfrappe.confirm(__('Delete {0} items permanently?', [docnames.length]),\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\tfrappe.call({\n\t\t\t\t\t\t\t\tmethod: 'frappe.desk.reportview.delete_items',\n\t\t\t\t\t\t\t\tfreeze: true,\n\t\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\t\titems: docnames,\n\t\t\t\t\t\t\t\t\tdoctype: doctype\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}).then((r) => {\n\t\t\t\t\t\t\t\tlet failed = r.message;\n\t\t\t\t\t\t\t\tif (!failed) failed = [];\n\n\t\t\t\t\t\t\t\tif (failed.length && !r._server_messages) {\n\t\t\t\t\t\t\t\t\tfrappe.throw(__('Cannot delete {0}', [failed.map(f => f.bold()).join(', ')]));\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (failed.length < docnames.length) {\n\t\t\t\t\t\t\t\t\tfrappe.utils.play_sound('delete');\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tthis.refresh();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tstandard: true,\n\t\t\t};\n\t\t};\n\n\t\t// if (frappe.user.has_role('System Manager')) {\n\t\t// \tthis.menu_items.push({\n\t\t// \t\tlabel: __('Project Settings'),\n\t\t// \t\taction: () => this.show_list_settings(\"Project\", this.listview_settings),\n\t\t// \t\tstandard: true\n\t\t// \t});\n\n\t\t// \tthis.menu_items.push({\n\t\t// \t\tlabel: __('Task Settings'),\n\t\t// \t\taction: () => this.show_list_settings(\"Task\", this.task_listview_settings),\n\t\t// \t\tstandard: true\n\t\t// \t});\n\t\t// }\n\n\t\t// bulk delete\n\t\tif (frappe.model.can_delete(doctype)) {\n\t\t\tthis.menu_items.push(bulk_delete());\n\t\t}\n\n\t\tthis.page && this.menu_items.map(item => {\n\t\t\tconst $item = this.page.add_menu_item(item.label, item.action, item.standard, item.shortcut);\n\t\t\tif (item.class) {\n\t\t\t\t$item && $item.addClass(item.class);\n\t\t\t}\n\t\t});\n\t}\n\n\t// show_list_settings(doctype, settings) {\n\t// \tfrappe.model.with_doctype(doctype, () => {\n\t// \t\tnew frappe.views.ListSettings({\n\t// \t\t\tlistview: this,\n\t// \t\t\tdoctype: doctype,\n\t// \t\t\tsettings: settings,\n\t// \t\t\tmeta: frappe.get_meta(doctype)\n\t// \t\t});\n\t// \t});\n\t// }\n\n\trefresh_columns() {\n\t\tthis.show();\n\t}\n\n\tset_title(title) {\n\t\tthis.page && this.page.set_title(title);\n\t}\n\n\tsetup_view() {\n\t\tthis.columns = this.setup_columns(\"Project\", this.meta, this.project_listview_settings);\n\t\tthis.task_columns = this.setup_columns(\"Task\", this.task_meta, this.task_listview_settings);\n\n\t\tthis.render_header(this.columns);\n\t\tthis.render_skeleton();\n\t\tthis.setup_events();\n\t}\n\n\tsetup_fields() {\n\t\tsuper.setup_fields();\n\n\t\tthis.set_task_fields();\n\t\tthis.build_task_fields();\n\t}\n\n\tset_task_fields() {\n\t\tlet fields = [].concat(\n\t\t\tfrappe.model.std_fields_list,\n\t\t\tthis.get_fields_in_list_view(\"Task\", this.task_meta),\n\t\t\t[this.meta.title_field, this.meta.image_field],\n\t\t\t(this.settings.add_fields || []),\n\t\t\tthis.meta.track_seen ? '_seen' : null,\n\t\t\tthis.sort_by,\n\t\t\t'enabled',\n\t\t\t'disabled',\n\t\t\t'color'\n\t\t);\n\n\t\tfields.forEach(f => this._add_task_field(f));\n\n\t\tthis.task_fields.forEach(f => {\n\t\t\tconst df = frappe.meta.get_docfield(f[1], f[0]);\n\t\t\tif (df && df.fieldtype === 'Currency' && df.options && !df.options.includes(':')) {\n\t\t\t\tthis._add_field(df.options);\n\t\t\t}\n\t\t});\n\t}\n\n\tbuild_task_fields() {\n\t\t// fill in missing doctype\n\t\tthis.task_fields = this.task_fields.map(f => {\n\t\t\tif (typeof f === 'string') {\n\t\t\t\tf = [f, this.doctype];\n\t\t\t}\n\t\t\treturn f;\n\t\t});\n\t\t// remove null or undefined values\n\t\tthis.task_fields = this.task_fields.filter(Boolean);\n\t\t// de-duplicate\n\t\tthis.task_fields = this.task_fields.uniqBy(f => f[0] + f[1]);\n\t}\n\n\t_add_task_field(fieldname) {\n\t\tif (!fieldname) return;\n\t\tlet doctype = \"Task\";\n\n\t\tif (typeof fieldname === 'object') {\n\t\t\t// df is passed\n\t\t\tconst df = fieldname;\n\t\t\tfieldname = df.fieldname;\n\t\t\tdoctype = df.parent;\n\t\t}\n\n\t\tconst is_valid_field = frappe.model.std_fields_list.includes(fieldname)\n\t\t\t|| frappe.meta.has_field(doctype, fieldname)\n\t\t\t|| fieldname === '_seen';\n\n\t\tif (!is_valid_field) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.task_fields.push([fieldname, doctype]);\n\t}\n\n\tget_df(doctype, fieldname) {\n\t\treturn frappe.meta.get_docfield(doctype, fieldname);\n\t}\n\n\tsetup_columns(doctype, meta, list_view_settings) {\n\t\t// setup columns for list view\n\t\tlet columns = [];\n\n\t\t// 1st column: title_field or name\n\t\tif (meta.title_field) {\n\t\t\tcolumns.push({\n\t\t\t\ttype: 'Subject',\n\t\t\t\tdf: this.get_df(doctype, meta.title_field)\n\t\t\t});\n\t\t} else {\n\t\t\tcolumns.push({\n\t\t\t\ttype: 'Subject',\n\t\t\t\tdf: {\n\t\t\t\t\tlabel: __('Name'),\n\t\t\t\t\tfieldname: 'name'\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t// 2nd column: Status indicator\n\t\tif (frappe.has_indicator(doctype)) {\n\t\t\t// indicator\n\t\t\tcolumns.push({\n\t\t\t\ttype: 'Status'\n\t\t\t});\n\t\t}\n\n\t\tconst fields_in_list_view = this.get_fields_in_list_view(doctype, meta);\n\t\t// Add rest from in_list_view docfields\n\t\tcolumns = columns.concat(\n\t\t\tfields_in_list_view\n\t\t\t\t.filter(df => {\n\t\t\t\t\tif (frappe.has_indicator(doctype) && df.fieldname === 'status') {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif (!df.in_list_view) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn df.fieldname !== meta.title_field;\n\t\t\t\t})\n\t\t\t\t.map(df => ({\n\t\t\t\t\ttype: 'Field',\n\t\t\t\t\tdf\n\t\t\t\t}))\n\t\t);\n\n\t\tif (list_view_settings && list_view_settings.fields) {\n\t\t\tcolumns = this.reorder_listview_fields(columns, list_view_settings.fields);\n\t\t}\n\n\t\t// limit max to 8 columns if no total_fields is set in List View Settings\n\t\t// Screen with low density no of columns 4\n\t\t// Screen with medium density no of columns 6\n\t\t// Screen with high density no of columns 8\n\t\tlet total_fields = 6;\n\n\t\tif (window.innerWidth <= 1366) {\n\t\t\ttotal_fields = 4;\n\t\t} else if (window.innerWidth >= 1920) {\n\t\t\ttotal_fields = 8;\n\t\t}\n\n\t\tif (list_view_settings && list_view_settings.total_fields) {\n\t\t\ttotal_fields = parseInt(list_view_settings.total_fields);\n\t\t}\n\n\t\treturn columns.slice(0, total_fields);\n\t}\n\n\treorder_listview_fields(columns, fields) {\n\t\tlet fields_order = [];\n\t\tfields = JSON.parse(fields);\n\n\t\t// title_field is fixed\n\t\tfields_order.push(columns[0]);\n\t\tcolumns.splice(0, 1);\n\n\t\tfor (let fld in fields) {\n\t\t\tfor (let col in columns) {\n\t\t\t\tlet field = fields[fld];\n\t\t\t\tlet column =columns[col];\n\n\t\t\t\tif (column.type == \"Status\" && field.fieldname == \"status_field\") {\n\t\t\t\t\tfields_order.push(column);\n\t\t\t\t\tbreak;\n\t\t\t\t} else if (column.type == \"Field\" && field.fieldname === column.df.fieldname) {\n\t\t\t\t\tfields_order.push(column);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn fields_order;\n\t}\n\n\tget_fields_in_list_view(doctype, meta) {\n\t\treturn meta.fields.filter(df => {\n\t\t\treturn frappe.model.is_value_type(df.fieldtype) && (\n\t\t\t\tdf.in_list_view\n\t\t\t\t&& frappe.perm.has_perm(doctype, df.permlevel, 'read')\n\t\t\t) || (\n\t\t\t\tdf.fieldtype === 'Currency'\n\t\t\t\t&& df.options\n\t\t\t\t&& !df.options.includes(':')\n\t\t\t) || (\n\t\t\t\tdf.fieldname === 'status'\n\t\t\t);\n\t\t});\n\t}\n\n\trender_skeleton() {\n\t\tconst $row = this.get_list_row_html_skeleton('<div><input type=\"checkbox\" /></div>');\n\t\tthis.$result.append($row);\n\t}\n\n\tset_fields() {\n\t\tlet fields = [].concat(\n\t\t\tfrappe.model.std_fields_list,\n\t\t\tthis.get_fields_in_list_view(\"Project\", this.meta),\n\t\t\t[this.meta.title_field, this.meta.image_field],\n\t\t\t(this.settings.add_fields || []),\n\t\t\tthis.meta.track_seen ? '_seen' : null,\n\t\t\tthis.sort_by,\n\t\t\t'enabled',\n\t\t\t'disabled',\n\t\t\t'color'\n\t\t);\n\n\t\tfields.forEach(f => this._add_field(f));\n\n\t\tthis.fields.forEach(f => {\n\t\t\tconst df = frappe.meta.get_docfield(f[1], f[0]);\n\t\t\tif (df && df.fieldtype === 'Currency' && df.options && !df.options.includes(':')) {\n\t\t\t\tthis._add_field(df.options);\n\t\t\t}\n\t\t});\n\t}\n\n\tget_task_fields() {\n\t\t// convert [fieldname, Doctype] => tabDoctype.fieldname\n\t\treturn this.task_fields.map(f => frappe.model.get_full_column_name(f[0], f[1]));\n\t}\n\n\tget_call_args(filters) {\n\t\treturn {\n\t\t\tmethod: \"cloud_extel.cloud_extel.page.project_treeview.project_treeview.get_projects_data\",\n\t\t\targs: {\n\t\t\t\tparams: {\n\t\t\t\t\tdoctype: \"Project\",\n\t\t\t\t\tfields: this.get_fields(),\n\t\t\t\t\tfilters: filters || this.get_filters_for_args(),\n\t\t\t\t\twith_comment_count: true,\n\t\t\t\t\tpage_length: this.page_length,\n\t\t\t\t\tstart: this.start\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\tget_task_call_args(filters) {\n\t\treturn {\n\t\t\tmethod: \"cloud_extel.cloud_extel.page.project_treeview.project_treeview.get_tasks\",\n\t\t\targs: {\n\t\t\t\tparams: {\n\t\t\t\t\tdoctype: \"Task\",\n\t\t\t\t\tfields: this.get_task_fields(),\n\t\t\t\t\tfilters: filters,\n\t\t\t\t\twith_comment_count: true,\n\t\t\t\t\tpage_length: this.page_length,\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\tsetup_side_bar() {}\n\n\tget_settings(doctype, attr) {\n\t\treturn frappe.call({\n\t\t\tmethod: \"frappe.desk.listview.get_list_settings\",\n\t\t\targs: {\n\t\t\t\tdoctype: doctype\n\t\t\t},\n\t\t\tasync: false\n\t\t}).then(doc => this[attr] = doc.message || {});\n\t}\n\n\tsetup_events() {\n\t\tthis.get_tasks();\n\t\tthis.setup_check_events();\n\t\tthis.setup_open_doc();\n\t\tthis.setup_task_tree_dropdown();\n\t\tthis.setup_create_new_task();\n\t\tthis.get_projects();\n\t\tthis.setup_expand_all_rows();\n\t\tthis.setup_collapse_all_rows();\n\t}\n\n\tsetup_task_tree_dropdown() {\n\t\tthis.$result.on('click', 'svg.icon', (e) => {\n\t\t\tlet el = e.currentTarget;\n\t\t\tlet $el = $(el);\n\t\t\t$el.find(\"use.mb-1\").attr(\"href\", \"#icon-down\");\n\n\t\t\tlet target = unescape(el.getAttribute(\"data-name\"));\n\t\t\tthis.render_task(target, $el);\n\t\t});\n\t}\n\n\trender_task(task, $el, expand_all) {\n\t\tlet $row = this.$result.find(`.list-rows[data-name=\"${task}\"]`);\n\t\tif (!$row || (!$row.length)) return;\n\n\t\tif (!$el) {\n\t\t\t$el = $row.find(\"use.mb-1\").attr(\"href\", \"#icon-down\");\n\t\t}\n\n\t\tlet list = $row.find(`.nested-list-row-container`);\n\t\tlet $list = $(list);\n\t\tlet level = parseInt($row[0].getAttribute(\"data-level\")) + 1;\n\t\tlet $result = $(`<div class=\"nested-result\">`);\n\n\t\t$list.toggleClass(\"hide\");\n\n\t\tif ($list[0].classList.contains(\"hide\")) {\n\t\t\t$list.find(`.nested-result`).remove();\n\t\t\t$el.find(\"use.mb-1\").attr(\"href\", \"#icon-right\");\n\t\t}\n\n\t\tfrappe.call(this.get_task_call_args([[\"Task\", \"parent_task\", \"=\", task]])).then(r => {\n\t\t\t// render\n\t\t\tthis.prepare_data(r);\n\n\t\t\tlist.append($result);\n\t\t\tthis.data.map((doc, i) => {\n\t\t\t\tdoc._idx = i;\n\t\t\t\tdoc.doctype = 'Task';\n\t\t\t\t$result.append(this.get_task_list_row_html(doc, level));\n\t\t\t});\n\n\t\t\tif (expand_all) {\n\t\t\t\tthis.$result.find(\".expand-all\").click();\n\t\t\t}\n\t\t});\n\t}\n\n\tsetup_open_doc() {\n\t\tthis.$result.on('click', '.btn-open', (e) => {\n\t\t\te.stopPropagation();\n\t\t\tlet el = e.currentTarget;\n\t\t\tlet doctype = unescape(el.getAttribute(\"data-doctype\"));\n\t\t\tlet name = unescape(el.getAttribute(\"data-name\"));\n\t\t\tfrappe.set_route(\"Form\", doctype, name);\n\t\t});\n\t}\n\n\tsetup_create_new_task() {\n\t\tthis.$result.on('click', '.create-new', (e) => {\n\t\t\tlet parent = unescape(e.currentTarget.getAttribute(\"data-name\"));\n\t\t\tlet project = unescape(e.currentTarget.getAttribute(\"data-project\"));\n\t\t\tlet task = frappe.model.get_new_doc(\"Task\");\n\t\t\ttask[\"project\"] = project;\n\t\t\ttask[\"parent_task\"] = parent;\n\n\t\t\tfrappe.ui.form.make_quick_entry(\"Task\", null, null, task);\n\t\t});\n\t}\n\n\tget_projects() {\n\t\tthis.$frappe_list.on('click', '.btn-prev', () => {\n\t\t\tthis.filter_area.clear(false);\n\t\t\tthis.set_title(\"Project\");\n\t\t\tthis.remove_previous_button();\n\t\t\tthis.render_header(this.columns, true);\n\t\t\tthis.filter_area.refresh_filters(this.meta);\n\t\t\tthis.fetch_projects();\n\t\t});\n\t}\n\n\tfetch_projects() {\n\t\tfrappe.call(this.get_call_args([])).then(r => {\n\t\t\t// render\n\t\t\tthis.render_header(this.columns, true);\n\t\t\tthis.prepare_data(r);\n\t\t\tthis.toggle_result_area();\n\t\t\tthis.render();\n\t\t});\n\t}\n\n\tget_tasks() {\n\t\tthis.$result.on('click', '.project-list-row-container', (e) => {\n\t\t\tthis.filter_area.clear(false);\n\t\t\tthis.set_title(\"Task Tree\");\n\t\t\tthis.filter_area.refresh_filters(this.task_meta);\n\t\t\tthis.fetch_tasks(unescape(e.currentTarget.getAttribute(\"data-name\")));\n\t\t});\n\t}\n\n\tfetch_tasks(project) {\n\t\tif (project) {\n\t\t\tthis.filter_area.add([[\"Task\", \"project\", \"=\", project]], false);\n\t\t}\n\n\t\tlet filters = this.get_filters_for_args();\n\t\tfilters.push([\"Task\", \"parent_task\", \"=\", '']);\n\n\t\tfrappe.call(this.get_task_call_args(filters)).then(r => {\n\t\t\t// render\n\t\t\tthis.render_header(this.task_columns, true);\n\t\t\tthis.prepare_data(r);\n\n\t\t\tthis.render(\"Task\", true, project);\n\t\t\tthis.render_previous_button();\n\t\t});\n\t}\n\n\tsetup_expand_all_rows() {\n\t\tthis.$result.on('click', '.expand-all', () => {\n\t\t\tlet task_list = this.$result.find(\"use[href='#icon-right']\").parent();\n\t\t\tthis.toggle_expand_collapse_button('expand');\n\n\t\t\tif (!task_list) return\n\t\t\ttask_list.map((i, task) => {\n\t\t\t\tlet task_name = task.getAttribute(\"data-name\");\n\t\t\t\tif (task_name) {\n\t\t\t\t\tthis.render_task(task_name, null, true);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tsetup_collapse_all_rows() {\n\t\tthis.$result.on('click', '.collapse-all', () => {\n\t\t\tlet task_list = this.$result.find(\"use[href='#icon-down']\").parent();\n\t\t\tthis.toggle_expand_collapse_button('collapse');\n\n\t\t\tif (!task_list) return\n\t\t\ttask_list.map((i, task) => {\n\t\t\t\tlet task_name = task.getAttribute(\"data-name\")\n\t\t\t\tlet $row = this.$result.find(`.list-rows[data-name=\"${task_name}\"]`);\n\t\t\t\tlet list = $row.find(`.nested-list-row-container`);\n\t\t\t\tlet $list = $(list);\n\t\t\t\t$list.toggleClass(\"hide\");\n\n\t\t\t\tif ($list.length && $list[0].classList.contains(\"hide\")) {\n\t\t\t\t\t$list.find(`.nested-result`).remove();\n\t\t\t\t\t$row.find(\"use.mb-1\").attr(\"href\", \"#icon-right\")\n\t\t\t\t}\n\t\t\t});\n\n\t\t});\n\t}\n\n\ttoggle_expand_collapse_button(action) {\n\t\tlet hide = (action == 'expand') ? '.expand-all': '.collapse-all';\n\t\tlet show = (action == 'expand') ? '.collapse-all': '.expand-all';\n\n\t\tthis.$result.find(hide).hide();\n\t\tthis.$result.find(show).show();\n\t}\n\n\trender(doctype, is_task=false, project=null) {\n\t\t// clear rows\n\t\tthis.$result.find('.list-row-container').remove();\n\t\tif (this.data.length > 0) {\n\t\t\t// append rows\n\t\t\tthis.$result.append(\n\t\t\t\tthis.data.map((doc, i) => {\n\t\t\t\t\tdoc._idx = i;\n\t\t\t\t\tdoc.doctype = doctype || this.doctype;\n\n\t\t\t\t\tif (is_task && project) {\n\t\t\t\t\t\tdoc.project = project;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn is_task ? this.get_task_list_row_html(doc, 0) : this.get_list_row_html(doc);\n\t\t\t\t}).join('')\n\t\t\t);\n\t\t}\n\t}\n\n\tsetup_no_result_area() {\n\t\tthis.$no_result = $(`\n\t\t\t<div class=\"no-result text-muted flex justify-center align-center\">\n\t\t\t\t${this.get_no_result_message()}\n\t\t\t</div>\n\t\t`).hide();\n\t\tthis.$no_result_prev = $(this.get_previous_header_html()).hide();\n\n\t\tthis.$frappe_list.append(this.$no_result_prev);\n\t\tthis.$frappe_list.append(this.$no_result);\n\t}\n\n\ttoggle_result_area() {\n\t\tthis.$result.toggle(this.data.length > 0);\n\t\tthis.$paging_area.toggle(this.data.length > 0);\n\t\tthis.$no_result.toggle(this.data.length == 0);\n\t\tthis.$no_result_prev.toggle(this.data.length == 0);\n\n\t\tconst show_more = (this.start + this.page_length) <= this.data.length;\n\t\tthis.$paging_area.find('.btn-more')\n\t\t\t.toggle(show_more);\n\t}\n\n\tsetup_filter_area() {\n\t\tthis.filter_area = new erpnext.projects.CustomFilterArea(this);\n\n\t\tif (this.filters && this.filters.length > 0) {\n\t\t\treturn this.filter_area.set(this.filters);\n\t\t}\n\t}\n\n\tget_list_row_html(doc) {\n\t\treturn this.get_list_row_html_skeleton(this.get_left_html(this.columns, doc), this.get_right_html(doc), doc);\n\t}\n\n\tget_task_list_row_html(doc, level) {\n\t\treturn this.get_task_list_row_html_skeleton(this.get_left_html(this.task_columns, doc, level), this.get_right_html(doc, true), doc, level);\n\t}\n\n\tget_list_row_html_skeleton(left = '', right = '', doc = {}) {\n\t\treturn `\n\t\t\t<div class=\"list-row-container project-list-row-container\" tabindex=\"1\" data-doctype=\"Project\" data-name=\"${escape(doc.name)}\">\n\t\t\t\t<div class=\"level list-row small\">\n\t\t\t\t\t<div class=\"level-left ellipsis\">\n\t\t\t\t\t\t${left}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"level-right text-muted ellipsis\">\n\t\t\t\t\t\t${right}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tget_task_list_row_html_skeleton(left = '', right = '', doc = {}, level) {\n\t\treturn `\n\t\t<div class=\"list-rows\" data-doctype=\"Task\" data-name=\"${escape(doc.name)}\" data-level=\"${level}\">\n\t\t\t<div class=\"list-row-container\" tabindex=\"1\">\n\t\t\t\t<div class=\"level list-row small\">\n\t\t\t\t\t<div class=\"level-left ellipsis\">\n\t\t\t\t\t\t${left}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"level-right text-muted ellipsis\">\n\t\t\t\t\t\t${right}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"nested-list-row-container hide\">\n\t\t\t</div>\n\t\t</div>\n\t\t`;\n\t}\n\n\tget_left_html(columns, doc, level) {\n\t\treturn columns.map(col => this.get_column_html(col, columns, doc, level)).join('');\n\t}\n\n\tget_right_html(doc, create_new=false) {\n\t\treturn this.get_meta_html(doc, create_new);\n\t}\n\n\tget_column_html(col, columns, doc, level) {\n\t\tif (col.type === 'Status') {\n\t\t\treturn `\n\t\t\t\t<div class=\"list-row-col hidden-xs ellipsis\">\n\t\t\t\t\t${this.get_indicator_html(doc)}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\tconst df = col.df || {};\n\t\tconst label = df.label;\n\t\tconst fieldname = df.fieldname;\n\t\tconst value = doc[fieldname] || '';\n\n\t\tconst format = () => {\n\t\t\tif (df.fieldtype === 'Code') {\n\t\t\t\treturn value;\n\t\t\t} else if (df.fieldtype === 'Percent') {\n\t\t\t\treturn `<div class=\"progress level\" style=\"margin: 0px;\">\n\t\t\t\t\t\t<div class=\"progress-bar progress-bar-success\" role=\"progressbar\"\n\t\t\t\t\t\t\taria-valuenow=\"${value}\"\n\t\t\t\t\t\t\taria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width: ${Math.round(value)}%;\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>`;\n\t\t\t} else {\n\t\t\t\treturn frappe.format(value, df, null, doc);\n\t\t\t}\n\t\t};\n\n\t\tconst field_html = () => {\n\t\t\tlet html;\n\t\t\tlet _value;\n\t\t\t// listview_setting formatter\n\t\t\tif (this.settings.formatters && this.settings.formatters[fieldname]) {\n\t\t\t\t_value = this.settings.formatters[fieldname](value, df, doc);\n\t\t\t} else {\n\t\t\t\tlet strip_html_required = df.fieldtype == 'Text Editor'\n\t\t\t\t\t|| (df.fetch_from && ['Text', 'Small Text'].includes(df.fieldtype));\n\t\t\t\tif (strip_html_required) {\n\t\t\t\t\t_value = strip_html(value);\n\t\t\t\t} else {\n\t\t\t\t\t_value = typeof value === 'string' ? frappe.utils.escape_html(value) : value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (df.fieldtype === 'Image') {\n\t\t\t\thtml = df.options ?\n\t\t\t\t\t`<img src=\"${doc[df.options]}\" style=\"max-level: 30px; max-width: 100%;\">` :\n\t\t\t\t\t`<div class=\"missing-image small\">\n\t\t\t\t\t\t<span class=\"octicon octicon-circle-slash\"></span>\n\t\t\t\t\t</div>`;\n\t\t\t} else if (df.fieldtype === 'Select') {\n\t\t\t\thtml = `<span class=\"filterable indicator ${frappe.utils.guess_colour(_value)} ellipsis\"\n\t\t\t\t\tdata-filter=\"${fieldname},=,${value}\">\n\t\t\t\t\t${__(_value)}\n\t\t\t\t</span>`;\n\t\t\t} else if (df.fieldtype === 'Link') {\n\t\t\t\thtml = `<a class=\"filterable text-muted ellipsis\"\n\t\t\t\t\tdata-filter=\"${fieldname},=,${value}\">\n\t\t\t\t\t${_value}\n\t\t\t\t</a>`;\n\t\t\t} else if (['Text Editor', 'Text', 'Small Text', 'HTML Editor'].includes(df.fieldtype)) {\n\t\t\t\thtml = `<span class=\"text-muted ellipsis\">\n\t\t\t\t\t${_value}\n\t\t\t\t</span>`;\n\t\t\t} else {\n\t\t\t\thtml = `<a class=\"filterable text-muted ellipsis\"\n\t\t\t\t\tdata-filter=\"${fieldname},=,${value}\">\n\t\t\t\t\t${format()}\n\t\t\t\t</a>`;\n\t\t\t}\n\n\t\t\treturn `<span class=\"ellipsis\"\n\t\t\t\ttitle=\"${__(label)}: ${escape(_value)}\">\n\t\t\t\t${html}\n\t\t\t</span>`;\n\t\t};\n\n\t\tconst class_map = {\n\t\t\tSubject: 'list-subject level',\n\t\t\tField: 'hidden-xs'\n\t\t};\n\t\tconst css_class = [\n\t\t\t'list-row-col ellipsis',\n\t\t\tclass_map[col.type],\n\t\t\tfrappe.model.is_numeric_field(df) ? 'text-right' : ''\n\t\t].join(' ');\n\n\t\tconst html_map = {\n\t\t\tSubject: this.get_subject_html(columns, doc, level),\n\t\t\tField: field_html()\n\t\t};\n\t\tconst column_html = html_map[col.type];\n\n\t\treturn `\n\t\t\t<div class=\"${css_class}\">\n\t\t\t\t${column_html}\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tget_subject_html(columns, doc, level) {\n\t\tlet user = frappe.session.user;\n\t\tlet subject_field = columns[0].df;\n\t\tlet value = doc[subject_field.fieldname] || doc.name;\n\t\tlet subject = strip_html(value.toString());\n\t\tlet escaped_subject = frappe.utils.escape_html(subject);\n\n\t\tconst seen = JSON.parse(doc._seen || '[]').includes(user) ? '' : 'bold';\n\n\t\tconst subject_link = this.get_subject_link(doc, subject, escaped_subject);\n\n\t\t// let html = doc.doctype == 'Task' && doc.expandable ? `<a class=\"btn btn-action btn-xs\"\n\t\t// \tdata-doctype=\"Task\" data-name=\"${escape(doc.name)}\" style=\"width: 20px;\">\n\t\t// \t\t<i class=\"octicon octicon-chevron-right\" />\n\t\t// \t</a>` : ``;\n\n\t\tlet html = doc.doctype == 'Task' && doc.expandable ? `<svg class=\"icon icon-sm\" style=\"\"\n\t\t\tdata-doctype=\"Task\" data-name=\"${escape(doc.name)}\">\n\t\t\t\t<use class=\"mb-1\" href=\"#icon-right\"></use>\n\t\t\t</svg>` : ``;\n\n\t\tlet subject_html = `\n\t\t\t<span class=\"level-item select-like\">\n\t\t\t\t<input class=\"list-row-checkbox\" type=\"checkbox\" data-name=\"${escape(doc.name)}\">\n\t\t\t\t<span class=\"list-row-like hidden-xs style=\"margin-bottom: 1px;\">\n\t\t\t\t\t${this.get_like_html(doc)}\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t\t<span class=\"level-item ${seen} ellipsis\" title=\"${escaped_subject}\" style=\"padding-left: ${20*level}px;\">\n\t\t\t\t<span class=\"level-item\" style=\"margin-bottom: 1px;\"\">\n\t\t\t\t\t${html}\n\t\t\t\t</span>\n\t\t\t\t${subject_link}\n\t\t\t</span>\n\t\t`;\n\n\t\treturn subject_html;\n\t}\n\n\tget_like_html(doc) {\n\t\tconst liked_by = JSON.parse(doc._liked_by || \"[]\");\n\t\tlet heart_class = liked_by.includes(frappe.session.user)\n\t\t\t? \"liked-by liked\"\n\t\t\t: \"not-liked\";\n\n\t\treturn `<span\n\t\t\tclass=\"like-action ${heart_class}\"\n\t\t\tdata-name=\"${doc.name}\" data-doctype=\"${this.doctype}\"\n\t\t\tdata-liked-by=\"${encodeURI(doc._liked_by) || \"[]\"}\"\n\t\t\ttitle=\"${liked_by.map(u => frappe.user_info(u).fullname).join(', ')}\">\n\t\t\t${frappe.utils.icon('heart', 'sm', 'like-icon')}\n\t\t</span>\n\t\t<span class=\"likes-count\">\n\t\t\t${liked_by.length > 99 ? __(\"99\") + \"+\" : __(liked_by.length || \"\")}\n\t\t</span>`;\n\t}\n\n\tget_subject_link(doc, subject, escaped_subject) {\n\t\tif (doc.doctype === 'Project') {\n\t\t\treturn `<span class=\"ellipsis\" title=\"${escaped_subject}\" data-doctype=\"${doc.doctype}\" data-name=\"${doc.name}\">\n\t\t\t\t${subject}\n\t\t\t</span>`;\n\t\t} else {\n\t\t\treturn `<a href =\"/app/task/${doc.name}\" class=\"ellipsis\" title=\"${escaped_subject}\" data-doctype=\"${doc.doctype}\" data-name=\"${doc.name}\">\n\t\t\t\t${subject}\n\t\t\t</a>`;\n\t\t}\n\t}\n\n\tget_indicator_html(doc) {\n\t\tconst indicator = frappe.get_indicator(doc, this.doctype);\n\t\tif (indicator) {\n\t\t\treturn `<span class=\"indicator ${indicator[1]} filterable\"\n\t\t\t\tdata-filter='${indicator[2]}'>\n\t\t\t\t${__(indicator[0])}\n\t\t\t<span>`;\n\t\t}\n\t\treturn '';\n\t}\n\n\tget_indicator_dot(doc) {\n\t\tconst indicator = frappe.get_indicator(doc, this.doctype);\n\t\tif (!indicator) return '';\n\t\treturn `<span class='indicator ${indicator[1]}' title='${__(indicator[0])}'></span>`;\n\t}\n\n\tget_avatar(last_assignee) {\n\t\treturn `<span class=\"filterable\"\n\t\t\t\tdata-filter=\"_assign,like,%${last_assignee}%\">\n\t\t\t\t${frappe.avatar(last_assignee)}\n\t\t\t</span>`\n\t}\n\n\tget_meta_html(doc, create_new) {\n\t\tlet html = '';\n\n\t\tif (create_new && doc.is_group) {\n\t\t\thtml += this.get_add_child_button(doc);\n\t\t}\n\n\t\tif (doc.doctype == 'Project') {\n\t\t\thtml += this.get_open_button(doc);\n\t\t}\n\n\t\tconst modified = this.comment_when(doc.modified, true);\n\n\t\tconst last_assignee = JSON.parse(doc._assign || '[]').slice(-1)[0];\n\t\tconst assigned_to = last_assignee ?\n\t\t\tthis.get_avatar(last_assignee) :\n\t\t\t`<span class=\"avatar avatar-small avatar-empty\"></span>`;\n\n\t\tconst comment_count =\n\t\t\t`<span class=\"${!doc._comment_count ? 'text-extra-muted' : ''} comment-count\">\n\t\t\t\t<i class=\"octicon octicon-comment-discussion\"></i>\n\t\t\t\t${doc._comment_count > 99 ? \"99+\" : doc._comment_count}\n\t\t\t</span>`;\n\n\t\thtml += `\n\t\t\t<div class=\"level-item hidden-xs list-row-activity\">\n\t\t\t\t${modified}\n\t\t\t\t${assigned_to}\n\t\t\t\t${comment_count}\n\t\t\t</div>\n\t\t\t<div class=\"level-item visible-xs text-right\">\n\t\t\t\t${this.get_indicator_dot(doc)}\n\t\t\t</div>\n\t\t`;\n\n\t\treturn html;\n\t}\n\n\tget_open_button(doc) {\n\t\treturn `\n\t\t\t\t<div class=\"level-item hidden-xs mr-3\">\n\t\t\t\t\t<button class=\"btn btn-open btn-default btn-xs\"\n\t\t\t\t\t\tdata-doctype=\"${escape(doc.doctype)}\" data-name=\"${escape(doc.name)}\">\n\t\t\t\t\t\t${__(\"Open\")}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t`;\n\t}\n\n\tget_add_child_button(doc) {\n\t\treturn `\n\t\t\t\t<div class=\"level-item hidden-xs mr-3\">\n\t\t\t\t\t<button class=\"btn create-new btn-default btn-xs\"\n\t\t\t\t\t\tdata-name=\"${escape(doc.name)}\" data-project=\"${escape(doc.project)}\">\n\t\t\t\t\t\t${__(\"Add Child\")}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t`;\n\t}\n\n\trender_header(columns, refresh_header) {\n\t\tif (refresh_header) {\n\t\t\tthis.$result.find('.list-row-head').remove();\n\t\t}\n\n\t\tif (this.$result.find('.list-row-head').length === 0) {\n\t\t\t// append header once\n\t\t\tthis.$result.prepend(this.get_header_html(columns));\n\t\t}\n\t}\n\n\trender_previous_button() {\n\t\tif (this.$result.find('.list-row-previous-head').length === 0) {\n\t\t\t// append header once\n\t\t\tthis.$result.prepend(this.get_previous_header_html());\n\t\t}\n\t}\n\n\tremove_previous_button() {\n\t\tthis.$result.find('.list-row-previous-head').remove();\n\t}\n\n\tget_header_html(columns) {\n\t\tconst subject_field = columns[0].df;\n\n\t\tlet subject_html = `\n\t\t\t<input class=\"level-item list-check-all hidden-xs\" type=\"checkbox\" title=\"${__(\"Select All\")}\">\n\t\t\t<span class=\"level-item list-liked-by-me\">\n\t\t\t\t<i class=\"octicon octicon-heart text-extra-muted\" title=\"${__(\"Likes\")}\"></i>\n\t\t\t</span>\n\t\t\t<span class=\"level-item\">${__(subject_field.label)}</span>\n\t\t`;\n\n\t\tconst $columns = columns.map(col => {\n\t\t\tlet classes = [\n\t\t\t\t'list-row-col ellipsis',\n\t\t\t\tcol.type == 'Subject' ? 'list-subject level' : 'hidden-xs',\n\t\t\t\tfrappe.model.is_numeric_field(col.df) ? 'text-right' : ''\n\t\t\t].join(' ');\n\n\t\t\treturn `\n\t\t\t\t<div class=\"${classes}\">\n\t\t\t\t\t${col.type === 'Subject' ? subject_html : `\n\t\t\t\t\t<span>${__(col.df && col.df.label || col.type)}</span>`}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}).join('');\n\n\t\treturn this.get_header_html_skeleton($columns, '<span class=\"list-count\"></span>');\n\t}\n\n\tget_previous_header_html() {\n\t\treturn `\n\t\t\t<header class=\"level list-row list-row-head text-muted small\">\n\t\t\t\t<a class=\"btn btn-prev btn-xs\" style=\"margin-left: 15px;\">\n\t\t\t\t\t<svg class=\"icon  icon-sm\" style=\"\">\n\t\t\t\t\t\t<use class=\"mb-1\" href=\"#icon-left\"></use>\n\t\t\t\t\t</svg>\n\t\t\t\t\t<span style=\"margin-left: 5px\">Projects</span>\n\t\t\t\t</a>\n\t\t\t\t<button class=\"btn btn-xs expand-all btn-default\" style=\"float: right\">\n\t\t\t\t\t${__('Expand All')}</button>\n\t\t\t\t<button class=\"btn btn-xs collapse-all btn-default\" style=\"float: right; display: none\">\n\t\t\t\t\t${__('Collapse All')}</button>\n\t\t\t</header>\n\t\t`;\n\t}\n\n\ton_row_checked() {\n\t\tthis.$list_head_subject = this.$list_head_subject || this.$result.find('header .list-header-subject');\n\t\tthis.$checkbox_actions = this.$checkbox_actions || this.$result.find('header .checkbox-actions');\n\n\t\tthis.$checks = this.$result.find('.list-row-checkbox:checked');\n\n\t\tthis.$list_head_subject.toggle(this.$checks.length === 0);\n\t\tthis.$checkbox_actions.toggle(this.$checks.length > 0);\n\n\t\tif (this.$checks.length === 0) {\n\t\t\tthis.$list_head_subject.find('.list-check-all').prop('checked', false);\n\t\t} else {\n\t\t\tthis.$checkbox_actions.find('.list-header-meta').html(\n\t\t\t\t__('{0} items selected', [this.$checks.length])\n\t\t\t);\n\t\t\tthis.$checkbox_actions.show();\n\t\t\tthis.$list_head_subject.hide();\n\t\t}\n\t}\n\n\tget_checked_items(only_docnames) {\n\t\tconst docnames = Array.from(this.$checks || [])\n\t\t\t.map(check => cstr(unescape($(check).data().name)));\n\n\t\tif (only_docnames) return docnames;\n\n\t\treturn this.data.filter(d => docnames.includes(d.name));\n\t}\n\n\tget_header_html_skeleton(left = '', right = '') {\n\t\treturn `\n\t\t\t<header class=\"level list-row list-row-head text-muted small\">\n\t\t\t\t<div class=\"level-left list-header-subject\">\n\t\t\t\t\t${left}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"level-left checkbox-actions\">\n\t\t\t\t\t<div class=\"level list-subject\">\n\t\t\t\t\t\t<input class=\"level-item list-check-all hidden-xs\" type=\"checkbox\" title=\"${__(\"Select All\")}\">\n\t\t\t\t\t\t<span class=\"level-item list-header-meta\"></span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"level-right\">\n\t\t\t\t\t${right}\n\t\t\t\t</div>\n\t\t\t</header>\n\t\t`;\n\t}\n\n\tsetup_check_events() {\n\t\tthis.$result.on('change', 'input[type=checkbox]', e => {\n\t\t\tconst $target = $(e.currentTarget);\n\t\t\te.stopPropagation();\n\n\t\t\tif ($target.is('.list-header-subject .list-check-all')) {\n\t\t\t\tconst $check = this.$result.find('.checkbox-actions .list-check-all');\n\t\t\t\t$check.prop('checked', $target.prop('checked'));\n\t\t\t\t$check.trigger('change');\n\t\t\t} else if ($target.is('.checkbox-actions .list-check-all')) {\n\t\t\t\tconst $check = this.$result.find('.list-header-subject .list-check-all');\n\t\t\t\t$check.prop('checked', $target.prop('checked'));\n\n\t\t\t\tthis.$result.find('.list-row-checkbox')\n\t\t\t\t\t.prop('checked', $target.prop('checked'));\n\t\t\t}\n\n\t\t\tthis.on_row_checked();\n\t\t});\n\n\t\tthis.$result.on('click', '.list-row-checkbox', e => {\n\t\t\tconst $target = $(e.currentTarget);\n\t\t\te.stopPropagation();\n\n\t\t\t// shift select checkboxes\n\t\t\tif (e.shiftKey && this.$checkbox_cursor && !$target.is(this.$checkbox_cursor)) {\n\t\t\t\tconst name_1 = this.$checkbox_cursor.data().name;\n\t\t\t\tconst name_2 = $target.data().name;\n\t\t\t\tconst index_1 = this.data.findIndex(d => d.name === name_1);\n\t\t\t\tconst index_2 = this.data.findIndex(d => d.name === name_2);\n\t\t\t\tlet [min_index, max_index] = [index_1, index_2];\n\n\t\t\t\tif (min_index > max_index) {\n\t\t\t\t\t[min_index, max_index] = [max_index, min_index];\n\t\t\t\t}\n\n\t\t\t\tlet docnames = this.data.slice(min_index + 1, max_index).map(d => d.name);\n\t\t\t\tconst selector = docnames.map(name => `.list-row-checkbox[data-name=\"${name}\"]`).join(',');\n\t\t\t\tthis.$result.find(selector).prop('checked', true);\n\t\t\t}\n\n\t\t\tthis.$checkbox_cursor = $target;\n\t\t});\n\t}\n\n\tcomment_when(datetime, mini) {\n\t\tvar timestamp = frappe.datetime.str_to_user ?\n\t\t\tfrappe.datetime.str_to_user(datetime) : datetime;\n\t\treturn '<span class=\"frappe-timestamp '\n\t\t\t+ (mini ? \" mini\" : \"\") + '\" data-timestamp=\"' + datetime\n\t\t\t+ '\" title=\"' + timestamp + '\">'\n\t\t\t+ this.prettyDate(datetime, mini) + '</span>';\n\t}\n\n\tconvert_to_user_tz(date) {\n\t\tdate = frappe.datetime.convert_to_user_tz(date);\n\t\treturn new Date((date || \"\").replace(/-/g, \"/\").replace(/[TZ]/g, \" \").replace(/\\.[0-9]*/, \"\"));\n\t}\n\n\tprettyDate(date, mini) {\n\t\tif (!date) return '';\n\n\t\tif (typeof (date) == \"string\") {\n\t\t\tdate = this.convert_to_user_tz(date);\n\t\t}\n\n\t\tlet diff = (((new Date()).getTime() - date.getTime()) / 1000);\n\t\tlet day_diff = Math.floor(diff / 86400);\n\n\t\tif (isNaN(day_diff) || day_diff < 0) return '';\n\n\t\tif (mini) {\n\t\t\t// Return short format of time difference\n\t\t\tif (day_diff == 0) {\n\t\t\t\tif (diff < 60) {\n\t\t\t\t\treturn __(\"now\");\n\t\t\t\t} else if (diff < 3600) {\n\t\t\t\t\treturn __(\"{0} m\", [Math.floor(diff / 60)]);\n\t\t\t\t} else if (diff < 86400) {\n\t\t\t\t\treturn __(\"{0} h\", [Math.floor(diff / 3600)]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (day_diff < 7) {\n\t\t\t\t\treturn __(\"{0} d\", [day_diff]);\n\t\t\t\t} else if (day_diff < 31) {\n\t\t\t\t\treturn __(\"{0} w\", [Math.ceil(day_diff / 7)]);\n\t\t\t\t} else if (day_diff < 365) {\n\t\t\t\t\treturn __(\"{0} M\", [Math.ceil(day_diff / 30)]);\n\t\t\t\t} else {\n\t\t\t\t\treturn __(\"{0} y\", [Math.ceil(day_diff / 365)]);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\t// Return long format of time difference\n\t\t\tif (day_diff == 0) {\n\t\t\t\tif (diff < 60) {\n\t\t\t\t\treturn __(\"just now\");\n\t\t\t\t} else if (diff < 120) {\n\t\t\t\t\treturn __(\"1 minute ago\");\n\t\t\t\t} else if (diff < 3600) {\n\t\t\t\t\treturn __(\"{0} minutes ago\", [Math.floor(diff / 60)]);\n\t\t\t\t} else if (diff < 7200) {\n\t\t\t\t\treturn __(\"1 hour ago\");\n\t\t\t\t} else if (diff < 86400) {\n\t\t\t\t\treturn __(\"{0} hours ago\", [Math.floor(diff / 3600)]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (day_diff == 1) {\n\t\t\t\t\treturn __(\"yesterday\");\n\t\t\t\t} else if (day_diff < 7) {\n\t\t\t\t\treturn __(\"{0} days ago\", [day_diff]);\n\t\t\t\t} else if (day_diff < 14) {\n\t\t\t\t\treturn __(\"1 week ago\");\n\t\t\t\t} else if (day_diff < 31) {\n\t\t\t\t\treturn __(\"{0} weeks ago\", [Math.ceil(day_diff / 7)]);\n\t\t\t\t} else if (day_diff < 62) {\n\t\t\t\t\treturn __(\"1 month ago\");\n\t\t\t\t} else if (day_diff < 365) {\n\t\t\t\t\treturn __(\"{0} months ago\", [Math.ceil(day_diff / 30)]);\n\t\t\t\t} else if (day_diff < 730) {\n\t\t\t\t\treturn __(\"1 year ago\");\n\t\t\t\t} else {\n\t\t\t\t\treturn __(\"{0} years ago\", [Math.ceil(day_diff / 365)]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\nerpnext.projects.CustomFilterArea = class CustomFilterArea {\n\n\tconstructor(list_view) {\n\t\tthis.list_view = list_view;\n\t\tthis.list_view.page.page_form.append(`<div class=\"standard-filter-section flex\"></div>`);\n\n\t\tconst filter_area = this.list_view.hide_page_form\n\t\t\t? this.list_view.page.custom_actions\n\t\t\t: this.list_view.page.page_form;\n\n\t\tthis.list_view.$filter_section = $('<div class=\"filter-section flex\">').appendTo(\n\t\t\tfilter_area\n\t\t);\n\n\t\tthis.$filter_list_wrapper = this.list_view.$filter_section;\n\t\tthis.trigger_refresh = true;\n\t\tthis.setup();\n\t}\n\n\tsetup() {\n\t\tif (!this.list_view.hide_page_form) this.make_standard_filters();\n\t\tthis.make_filter_list();\n\t}\n\n\tget() {\n\t\tlet filters = this.filter_list.get_filters();\n\t\tlet standard_filters = this.get_standard_filters();\n\n\t\treturn filters.concat(standard_filters).uniqBy(JSON.stringify);\n\t}\n\n\tset(filters) {\n\t\t// use to method to set filters without triggering refresh\n\t\tthis.trigger_refresh = false;\n\t\treturn this.add(filters, false).then(() => {\n\t\t\tthis.trigger_refresh = true;\n\t\t\tthis.filter_list.update_filter_button();\n\t\t});\n\t}\n\n\tadd(filters, refresh = true) {\n\t\tif (!filters || (Array.isArray(filters) && filters.length === 0))\n\t\t\treturn Promise.resolve();\n\n\t\tif (typeof filters[0] === \"string\") {\n\t\t\t// passed in the format of doctype, field, condition, value\n\t\t\tconst filter = Array.from(arguments);\n\t\t\tfilters = [filter];\n\t\t}\n\n\t\tfilters = filters.filter((f) => {\n\t\t\treturn !this.exists(f);\n\t\t});\n\n\t\tconst { non_standard_filters, promise } = this.set_standard_filter(\n\t\t\tfilters\n\t\t);\n\n\t\treturn promise\n\t\t\t.then(() => {\n\t\t\t\treturn (\n\t\t\t\t\tnon_standard_filters.length > 0 &&\n\t\t\t\t\tthis.filter_list.add_filters(non_standard_filters)\n\t\t\t\t);\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\trefresh && this.list_view.refresh();\n\t\t\t});\n\t}\n\n\trefresh_list_view_old() {\n\t\tif (this.trigger_refresh) {\n\t\t\tthis.list_view.start = 0;\n\t\t\tthis.list_view.refresh();\n\t\t\tthis.list_view.on_filter_change();\n\t\t}\n\t}\n\n\texists(f) {\n\t\tlet exists = false;\n\t\t// check in standard filters\n\t\tconst fields_dict = this.list_view.page.fields_dict;\n\t\tif (f[2] === \"=\" && f[1] in fields_dict) {\n\t\t\tconst value = fields_dict[f[1]].get_value();\n\t\t\tif (value) {\n\t\t\t\texists = true;\n\t\t\t}\n\t\t}\n\n\t\t// check in filter area\n\t\tif (!exists) {\n\t\t\texists = this.filter_list.filter_exists(f);\n\t\t}\n\n\t\treturn exists;\n\t}\n\n\tset_standard_filter(filters) {\n\t\tif (filters.length === 0) {\n\t\t\treturn {\n\t\t\t\tnon_standard_filters: [],\n\t\t\t\tpromise: Promise.resolve(),\n\t\t\t};\n\t\t}\n\n\t\tconst fields_dict = this.list_view.page.fields_dict;\n\n\t\tlet out = filters.reduce((out, filter) => {\n\t\t\t// eslint-disable-next-line\n\t\t\tconst [dt, fieldname, condition, value] = filter;\n\t\t\tout.promise = out.promise || Promise.resolve();\n\t\t\tout.non_standard_filters = out.non_standard_filters || [];\n\n\t\t\tif (\n\t\t\t\tfields_dict[fieldname] &&\n\t\t\t\t(condition === \"=\" || condition === \"like\")\n\t\t\t) {\n\t\t\t\t// standard filter\n\t\t\t\tout.promise = out.promise.then(() =>\n\t\t\t\t\tfields_dict[fieldname].set_value(value)\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\t// filter out non standard filters\n\t\t\t\tout.non_standard_filters.push(filter);\n\t\t\t}\n\t\t\treturn out;\n\t\t}, {});\n\n\t\treturn out;\n\t}\n\n\tremove_filters(filters) {\n\t\tfilters.map(f => {\n\t\t\tthis.remove(f[1]);\n\t\t});\n\t}\n\n\tremove(fieldname) {\n\t\tconst fields_dict = this.list_view.page.fields_dict;\n\n\t\tif (fieldname in fields_dict) {\n\t\t\tfields_dict[fieldname].set_value(\"\");\n\t\t}\n\n\t\tlet filter = this.filter_list.get_filter(fieldname);\n\t\tif (filter) filter.remove();\n\t\tthis.filter_list.apply();\n\t\treturn Promise.resolve();\n\t}\n\n\tclear(refresh = true) {\n\t\tif (!refresh) {\n\t\t\tthis.trigger_refresh = false;\n\t\t}\n\n\t\tthis.filter_list.clear_filters();\n\n\t\tconst promises = [];\n\t\tconst fields_dict = this.list_view.page.fields_dict;\n\t\tfor (let key in fields_dict) {\n\t\t\tconst field = this.list_view.page.fields_dict[key];\n\t\t\tpromises.push(() => field.set_value(\"\"));\n\t\t}\n\t\treturn frappe.run_serially(promises).then(() => {\n\t\t\tthis.trigger_refresh = true;\n\t\t});\n\t}\n\n\tmake_standard_filters_old() {\n\t\tthis.standard_filters_wrapper = this.list_view.page.page_form.find('.standard-filter-section');\n\t\tlet fields = [\n\t\t\t{\n\t\t\t\tfieldtype: \"Data\",\n\t\t\t\tlabel: \"Name\",\n\t\t\t\tcondition: \"like\",\n\t\t\t\tfieldname: \"name\",\n\t\t\t\tonchange: () => this.refresh_list_view(),\n\t\t\t},\n\t\t];\n\n\t\tif (this.list_view.custom_filter_configs) {\n\t\t\tthis.list_view.custom_filter_configs.forEach((config) => {\n\t\t\t\tconfig.onchange = () => this.refresh_list_view();\n\t\t\t});\n\n\t\t\tfields = fields.concat(this.list_view.custom_filter_configs);\n\t\t}\n\n\t\tconst doctype_fields = this.list_view.meta.fields;\n\t\tconst title_field = this.list_view.meta.title_field;\n\n\t\tfields = fields.concat(\n\t\t\tdoctype_fields\n\t\t\t\t.filter(\n\t\t\t\t\t(df) =>\n\t\t\t\t\t\tdf.fieldname === title_field ||\n\t\t\t\t\t\t(df.in_standard_filter &&\n\t\t\t\t\t\t\tfrappe.model.is_value_type(df.fieldtype))\n\t\t\t\t)\n\t\t\t\t.map((df) => {\n\t\t\t\t\tlet options = df.options;\n\t\t\t\t\tlet condition = \"=\";\n\t\t\t\t\tlet fieldtype = df.fieldtype;\n\t\t\t\t\tif (\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\"Text\",\n\t\t\t\t\t\t\t\"Small Text\",\n\t\t\t\t\t\t\t\"Text Editor\",\n\t\t\t\t\t\t\t\"HTML Editor\",\n\t\t\t\t\t\t\t\"Data\",\n\t\t\t\t\t\t\t\"Code\",\n\t\t\t\t\t\t\t\"Read Only\",\n\t\t\t\t\t\t].includes(fieldtype)\n\t\t\t\t\t) {\n\t\t\t\t\t\tfieldtype = \"Data\";\n\t\t\t\t\t\tcondition = \"like\";\n\t\t\t\t\t}\n\t\t\t\t\tif (df.fieldtype == \"Select\" && df.options) {\n\t\t\t\t\t\toptions = df.options.split(\"\\n\");\n\t\t\t\t\t\tif (options.length > 0 && options[0] != \"\") {\n\t\t\t\t\t\t\toptions.unshift(\"\");\n\t\t\t\t\t\t\toptions = options.join(\"\\n\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tlet default_value =\n\t\t\t\t\t\tfieldtype === \"Link\"\n\t\t\t\t\t\t\t? frappe.defaults.get_user_default(options)\n\t\t\t\t\t\t\t: null;\n\t\t\t\t\tif ([\"__default\", \"__global\"].includes(default_value)) {\n\t\t\t\t\t\tdefault_value = null;\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\tfieldtype: fieldtype,\n\t\t\t\t\t\tlabel: __(df.label),\n\t\t\t\t\t\toptions: options,\n\t\t\t\t\t\tfieldname: df.fieldname,\n\t\t\t\t\t\tcondition: condition,\n\t\t\t\t\t\tdefault: default_value,\n\t\t\t\t\t\tonchange: () => this.refresh_list_view(),\n\t\t\t\t\t\tignore_link_validation: fieldtype === \"Dynamic Link\",\n\t\t\t\t\t\tis_filter: 1,\n\t\t\t\t\t};\n\t\t\t\t})\n\t\t);\n\n\t\tfields.map(df => {\n\t\t\tthis.list_view.page.add_field(df, this.standard_filters_wrapper);\n\t\t});\n\t}\n\n\tget_standard_filters() {\n\t\tconst filters = [];\n\t\tconst fields_dict = this.list_view.page.fields_dict;\n\t\tfor (let key in fields_dict) {\n\t\t\tlet field = fields_dict[key];\n\t\t\tlet value = field.get_value();\n\t\t\tif (value) {\n\t\t\t\tif (field.df.condition === \"like\" && !value.includes(\"%\")) {\n\t\t\t\t\tvalue = \"%\" + value + \"%\";\n\t\t\t\t}\n\t\t\t\tfilters.push([\n\t\t\t\t\tthis.list_view.doctype,\n\t\t\t\t\tfield.df.fieldname,\n\t\t\t\t\tfield.df.condition || \"=\",\n\t\t\t\t\tvalue,\n\t\t\t\t]);\n\t\t\t}\n\t\t}\n\n\t\treturn filters;\n\t}\n\n\tmake_filter_list_old() {\n\t\t$(`<div class=\"filter-selector\">\n\t\t\t<button class=\"btn btn-default btn-sm filter-button\">\n\t\t\t\t<span class=\"filter-icon\">\n\t\t\t\t\t${frappe.utils.icon('filter')}\n\t\t\t\t</span>\n\t\t\t\t<span class=\"button-label hidden-xs\">\n\t\t\t\t\t${__(\"Filter\")}\n\t\t\t\t<span>\n\t\t\t</button>\n\t\t</div>`\n\t\t).appendTo(this.$filter_list_wrapper);\n\n\t\tthis.filter_button = this.$filter_list_wrapper.find('.filter-button');\n\t\tthis.filter_list = new frappe.ui.FilterGroup({\n\t\t\tbase_list: this.list_view,\n\t\t\tparent: this.$filter_list_wrapper,\n\t\t\tdoctype: this.list_view.doctype,\n\t\t\tfilter_button: this.filter_button,\n\t\t\tdefault_filters: [],\n\t\t\ton_change: () => this.refresh_list_view(),\n\t\t});\n\t}\n\n\tis_being_edited() {\n\t\t// returns true if user is currently editing filters\n\t\treturn (\n\t\t\tthis.filter_list &&\n\t\t\tthis.filter_list.wrapper &&\n\t\t\tthis.filter_list.wrapper.find(\".filter-box:visible\").length > 0\n\t\t);\n\t}\n\n\trefresh_filters(meta) {\n\t\tthis.list_view.page.clear_fields();\n\t\tthis.list_view.current_doctype = meta.name;\n\t\t// this.$filter_list_wrapper.remove();\n\n\t\tlet existing_list = $(this.list_view.parent).find(\".filter-section\");\n\n\t\tif (existing_list) {\n\t\t\texisting_list.remove();\n\t\t}\n\n\t\tthis.list_view.doctype = meta.name;\n\t\tthis.make_standard_filters(meta);\n\n\t\tconst filter_area = this.list_view.hide_page_form\n\t\t\t? this.list_view.page.custom_actions\n\t\t\t: this.list_view.page.page_form;\n\t\tthis.$filter_list_wrapper = $('<div class=\"filter-section flex\">').appendTo(filter_area);\n\t\tthis.make_filter_list(meta.name);\n\t\tthis.clear(false);\n\t}\n\n\tmake_standard_filters(meta) {\n\t\tif (!meta) {\n\t\t\tmeta = this.list_view.meta;\n\t\t}\n\n\t\tlet fields = [\n\t\t\t{\n\t\t\t\tfieldtype: 'Data',\n\t\t\t\tlabel: 'Name',\n\t\t\t\tcondition: 'like',\n\t\t\t\tfieldname: 'name',\n\t\t\t\tonchange: () => this.refresh_list_view()\n\t\t\t}\n\t\t];\n\n\t\tconst doctype_fields = meta.fields;\n\t\tconst title_field = meta.title_field;\n\n\t\tfields = fields.concat(doctype_fields.filter(\n\t\t\tdf => (df.fieldname === title_field) || (df.in_standard_filter && frappe.model.is_value_type(df.fieldtype))\n\t\t).map(df => {\n\t\t\tlet options = df.options;\n\t\t\tlet condition = '=';\n\t\t\tlet fieldtype = df.fieldtype;\n\t\t\tif (['Text', 'Small Text', 'Text Editor', 'HTML Editor', 'Data', 'Code', 'Read Only'].includes(fieldtype)) {\n\t\t\t\tfieldtype = 'Data';\n\t\t\t\tcondition = 'like';\n\t\t\t}\n\t\t\tif (df.fieldtype == \"Select\" && df.options) {\n\t\t\t\toptions = df.options.split(\"\\n\");\n\t\t\t\tif (options.length > 0 && options[0] != \"\") {\n\t\t\t\t\toptions.unshift(\"\");\n\t\t\t\t\toptions = options.join(\"\\n\");\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet default_value = (fieldtype === 'Link') ? frappe.defaults.get_user_default(options) : null;\n\t\t\tif (['__default', '__global'].includes(default_value)) {\n\t\t\t\tdefault_value = null;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tfieldtype: fieldtype,\n\t\t\t\tlabel: __(df.label),\n\t\t\t\toptions: options,\n\t\t\t\tfieldname: df.fieldname,\n\t\t\t\tcondition: condition,\n\t\t\t\tdefault: default_value,\n\t\t\t\tonchange: () => this.refresh_list_view(),\n\t\t\t\tignore_link_validation: fieldtype === 'Dynamic Link',\n\t\t\t\tis_filter: 1,\n\t\t\t};\n\t\t}));\n\n\t\tthis.standard_filters_wrapper = this.list_view.page.page_form.find('.standard-filter-section');\n\t\tif (this.standard_filters_wrapper.length == 0) {\n\t\t\tthis.list_view.page.page_form.append(`<div class=\"standard-filter-section flex\"></div>`);\n\t\t\tthis.standard_filters_wrapper = this.list_view.page.page_form.find('.standard-filter-section');\n\t\t}\n\t\tfields.map(df => {\n\t\t\tthis.list_view.page.add_field(df, this.standard_filters_wrapper);\n\t\t});\n\t}\n\n\tmake_filter_list(doctype) {\n\t\tif (!doctype) {\n\t\t\tdoctype = this.list_view.doctype;\n\t\t}\n\n\t\t$(`<div class=\"filter-selector\">\n\t\t\t<button class=\"btn btn-default btn-sm filter-button\">\n\t\t\t\t<span class=\"filter-icon\">\n\t\t\t\t\t${frappe.utils.icon('filter')}\n\t\t\t\t</span>\n\t\t\t\t<span class=\"button-label hidden-xs\">\n\t\t\t\t\t${__(\"Filter\")}\n\t\t\t\t<span>\n\t\t\t</button>\n\t\t</div>`\n\t\t).appendTo(this.$filter_list_wrapper);\n\t\t\n\t\tthis.filter_button = this.$filter_list_wrapper.find('.filter-button');\n\t\tthis.filter_list = new frappe.ui.FilterGroup({\n\t\t\tbase_list: this.list_view,\n\t\t\tparent: this.$filter_list_wrapper,\n\t\t\tdoctype: doctype,\n\t\t\tdefault_filters: [],\n\t\t\tfilter_button: this.filter_button,\n\t\t\ton_change: () => this.refresh_list_view()\n\t\t});\n\t}\n\n\trefresh_list_view() {\n\t\tif (this.trigger_refresh) {\n\t\t\tif (this.list_view.doctype == \"Task\") {\n\t\t\t\tthis.list_view.fetch_tasks();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.list_view.start = 0;\n\t\t\tthis.list_view.refresh();\n\t\t\tthis.list_view.on_filter_change();\n\t\t}\n\t}\n};"],"names":["let","const","this","$check"],"mappings":"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"}